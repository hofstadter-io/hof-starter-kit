{{#with DslContext as |TYPE|}}
type:
  name: {{TYPE.name}}
  versionNext: {{inc TYPE.version}}

  migrations:
{{#each TYPE.fields as |FIELD|}}

{{#unless FIELD.version}}
  - name: "{{FIELD.name}}"
    versionNext: {{inc TYPE.version}}
    change: create
{{/unless}}

{{#if FIELD.rename}}
  - name: "{{FIELD.name}}"
    versionNext: {{inc TYPE.version}}
    change: rename
{{/if}}

{{#if FIELD.delete}}
  - name: "{{FIELD.name}}"
    versionNext: {{inc TYPE.version}}
    change: delete
{{/if}}

{{#if FIELD.update}}
  - name: "{{FIELD.name}}"
    versionNext: {{inc TYPE.version}}
    change: update
{{/if}}

{{/each}}

{{/with}}
