name: "default"

template-configs:

  - name: once-files
    templates:
    # database files
    - in: packages/server/src/database/migrations/00000_migrations.js
      out: packages/server/src/database/migrations/00000_migrations.js

    - in: packages/server/src/database/seeds/modules.js
      out: packages/server/src/database/seeds/modules.js

    - in: packages/server/src/database/migrations/app-migrations.js
      out: 'packages/server/src/database/migrations/{{printf1 "%05d" versionNext}}_migrations.js'

  - name: app-migration-files
    field: migrations
    templates:
      - in: packages/server/src/database/migrations/app-migrations.js
        out: 'packages/server/src/database/migrations/{{printf1 "%05d" .}}_migrations.js'

